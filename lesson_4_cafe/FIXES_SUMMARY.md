# Исправления проблем

## 1. Проблема с монетками (собирается только 1)

**Исправлено:**
- Добавлены отладочные сообщения в `Coin.gd`
- Добавлена проверка `if collected: return` в функции `collect()`
- Улучшена логика обнаружения игрока

**Что проверить:**
- Запустите игру и посмотрите в консоль - должны появляться сообщения при приближении к монеткам
- Если монетки не собираются, проверьте что у них есть CollisionShape3D в сцене `coin.tscn`

## 2. Проблема с кассиром

**Исправлено:**
- Добавлены отладочные сообщения в `Cashier.gd`
- Улучшена логика обнаружения игрока
- Исправлен размер CollisionShape3D кассира (теперь 2x2x2)
- Убран неправильный transform scale

**Что проверить:**
- Подойдите к кассиру - в консоли должно появиться "Игрок вошел в зону кассира"
- Нажмите E - должно появиться "Нажата клавиша E"

## 3. Проблема с коллизией объектов и пола

### Для пола:
**Исправлено:**
- Увеличен размер CollisionShape3D пола с Y=0.01 до Y=0.1
- Добавлена правильная позиция CollisionShape3D (Y=0.05)
- Исправлена позиция CollisionShape3D игрока (Y=1 вместо 0.399)

**Проверьте в сцене `cafe.tscn`:**
- **Floor → MeshInstance3D → StaticBody3D → CollisionShape3D**
- Размер должен быть: X=18, Y=0.1, Z=20
- Позиция: Y=0.05

### Для объектов GLB (столы, стулья и т.д.):

**В Godot редакторе:**

1. Выберите объект GLB (например, "Tinkercad GLTF Scene")
2. Добавьте дочерний узел: **Right Click → Add Child Node → StaticBody3D**
3. В StaticBody3D добавьте **CollisionShape3D**
4. В CollisionShape3D → **Shape → New BoxShape3D**
5. Настройте размер вручную, чтобы он соответствовал объекту:
   - Включите **Debug → Visible Collision Shapes** чтобы видеть коллизию
   - Измените **Size** в BoxShape3D чтобы он покрывал объект

**Примерные размеры:**
- Столы: X=2, Y=1, Z=2
- Стулья/пуфики: X=0.8, Y=1, Z=0.8  
- Лампы: X=0.5, Y=2, Z=0.5
- Диваны: X=2, Y=1, Z=1.5

**Важно:** Нужно добавить коллизию для КАЖДОГО объекта GLB вручную в редакторе!

## Отладка:

Запустите игру и проверьте консоль:
- При приближении к монетке должно быть: "Игрок вошел в зону монетки!"
- При приближении к кассиру: "Игрок вошел в зону кассира!"
- При сборе монетки: "Собираю монетку!"

Если сообщений нет - проблема в обнаружении игрока (проверьте CollisionShape3D).
